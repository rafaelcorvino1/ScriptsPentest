import sys
import os

# Verificar se foi fornecido o nome do arquivo de entrada como argumento
if len(sys.argv) != 2:
    print("Uso: python remove_linhas_vazias.py <nome_arquivo>")
    sys.exit(1)

# Obter o nome do arquivo de entrada a partir do argumento
nome_arquivo = sys.argv[1]

# Obter o caminho completo do arquivo de entrada
caminho_arquivo_entrada = os.path.abspath(nome_arquivo)

# Verificar se o arquivo de entrada existe
if not os.path.exists(caminho_arquivo_entrada):
    print(f"Arquivo '{nome_arquivo}' não encontrado.")
    sys.exit(1)

# Obter o nome do arquivo de saída
nome_arquivo_saida = f"wordlist_filtrada_{nome_arquivo}"

# Obter o caminho completo do arquivo de saída
caminho_arquivo_saida = os.path.join(os.getcwd(), nome_arquivo_saida)

# Abra o arquivo de entrada em modo de leitura
with open(caminho_arquivo_entrada, 'r') as arquivo_entrada:
    # Leia o conteúdo do arquivo
    conteudo = arquivo_entrada.readlines()

# Filtrar as linhas vazias
wordlist_filtrada = [linha.strip() for linha in conteudo if linha.strip()]

# Abra o arquivo de saída em modo de escrita
with open(caminho_arquivo_saida, 'w') as arquivo_saida:
    # Escreva a wordlist filtrada no arquivo de saída
    arquivo_saida.write('\n'.join(wordlist_filtrada))

print(f"Linhas vazias removidas com sucesso. Wordlist filtrada salva em '{nome_arquivo_saida}'.")
